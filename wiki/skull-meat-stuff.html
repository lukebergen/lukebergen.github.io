<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">7iFmx6kkZB1rRabx:hHULkQXbBKOuw9y059kmHw==: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</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          window.pw = password;
          window.cipherx = cipher;
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
        } catch(err) {
          console.log(err);
          alert("nope");
        }
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });
    </script>
  </body>
</html>
