<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">MkDo73fcf7HUlFrl:AH8uOdarKL/sGyxFP4TdCg==:ZcjLIV25I+vk9bHdCxIeHgqyk/G7pbh4fv7/SeSvzJlgPoHWDm6s/Q5CyeSKKKKXD6elAgL5kd5j8iK2d6junTU5pBYL8LeLNeTzwBrzyoi3jqBhZhCjYrUsn62920pTcXoVyck0aR9iweg6zJGC1DqsWoCymdNBYeH8colKuYjsvQnc5+B9npXRpOn94N0cYeEzDkwn9oxoImZzL80EruPQ9LCi44/JwMTTdQLzZApP1zs/9uaCFxf0OJY6FjlqRt42ndNXGLpEv9LiizVPBmkUL2tgOuNp5ANU9RZP1I1VWb1CSShUjWeg3QYjoh+pq3zxhQQLfrtLf9BYSYoUlTP0Pt2AqqqRQvrbBxjVf1rpkqPwVjoEsVRIZ2YH38NrDmh8tLOL4DyltRn0KZamPiY4GZFURZGRqGzic6jA/GuFLpnvY4QSzXRvGxjxyRdsyDtX6VJ8fcYxgKc1gZ4bpMjlVHJYbKI+2fh3f0sefcY1DJ4GB2/h4SDCRC39SsY5cetpw7uNX4we7V/IYY0DEnHqna6AspClGWDrNWFzHBRwVCA0IWE9EcrrUCfnMF1+TQt8CMwLPmg5oy3bLKC0M6BxafpEAHO9OiiidphfGo8X7AGySH9ZS1PZ+GAHc4czdp8krh/5ucPjfcByVvsgs5Q0G839W5KHiptYdUfq1+PyFBMWMMtdfbAWBGm5Ysq+aLmDCPKfoBGvpYwuUwVnTcfmAtwCGjkxYCTKjhjwbG/n1mzNEEgOgMQTBOSroexoO8HdhfLmZx1QlVxEH+ScF6Q6+7MBQHilCOANrKwq+65AyZu2LQxxscE+C8mejH07xxedpmEetX/mjJESZSeNaxwRam/Ghm7Wxuzzji5dqaFvL3iO99ey01kl/fOTPjjjsJ3+HPsDifCB+gdTwDHOoR0CBM4sftziAB6n1yw8GBtiXUsKtmLDZ4IwMStmP6GsZ/icrOhuvCUO0vuekWprdCnTCo8ckin8qYEdhtpHDUQfRgCGfUv2fuzOeiVBxAIhe6zBH+kqhgBYsOKVlnJq0NJ6twSoThWSWBQI6Udw4iMR6PkIkpuPlG6bmSaJGHP2zfN8Ww2eEtkiR5AGI2fSOJcxsugLKzBM7fQGNaUii7XVZjl6O2+SvACksLOnoVzopo5gYfx4BvfXgdKSUf3Rl1HJKbz4nCzWFx9QeV21jHW0asE5QOrgwnPN8l95f7+KW/AoLVGCYXodLFwllkteomLfLJAeik5mJ+NhJKrALQuNFPlYRSxuCV6l0+slMiLbV8BwN1I2mtwoSqG3iCaNdU/bG5/CMYIBh9+qNmFj4ZZLkAyVmMYFrAkhk5dwTp/OUZCJf5FKHRd4cK5tAxDPC3OGRHjZALc4192L2R0O65G08IHc+FxCV1o7mVfaFmOiABhAmW9JHfHxnmIpsitnhZkIrIhNLaZPH25DxQy2bX2HJmLlubIky4fICO9pTLHJanPrp1nD53UEnBtXpErU9OuXaXMKZoOsS7DGevPiXAzErdZ4oX0bChJHypaBN/RZo0gVubNYQcXoccCrEQ8zsxlsIgcQMVshPLhaNVipsGL5rTdmK8msOlzaq1l20VyFmenllKnujRxQU3o9WAZjCx0QcReIOTzC7ewwWPXkpOQmmV32BNvGQP8OEoAfcVDuOCK5REhdwBjvgLRBaAgaJs3d8ueFpkPwsb4uPFDetcFxhziLC5ZkD+CERtkNIfz4PtCZgtUkVuv76lISqTMOQFBunseXK34RL5rQP0LxVcfPNAtGDK3LsAhwMM+hLy8ipAyO8Tq1iJVyizeGp2Swvy3VRBzIjJB/hlpbiOcW15A5eP4HCTNA8N6NFNYbTysIgQ4bUpBV53raJy3ojkpYz0wCVF/cSEfrgfcfv0PRXofP2DZkkSr4sAQt2c753A7citQkfYYoKlYYfqUgB9V1yNr1YVpBCLveTFlzNLu5vMm0UiWHXPkS8asn2Kpf2dvlU1hSsp8LYoRwOPB3Fn1+75oUtmz4+XSE6ESrsj5pE5x66ikXDFIjr9PpQGELb6fP1KBwApJOPBiSP+HoHUX5Rs6ySAEIXcAljd+YYs61bMCly5N9wSs6r4jlxbwoOSCiHrpdVNFDBYiD6zIKw6kX0YSxtYfRyHyhWOHIj23d5u3H3lZc+WNeX4nfQsKP5xwtCW+f50Pwpriz3BZP8V65Zgkme88Mrxh8bFCDVAtuWtZObonLcIktycF+vmJH6hh5TXq1x7hhQ3YQcVmKoC9XP6WRcfrNVN8FmENoLJKWRwuv2H4aWGCYcn72a6Q+cMYXhhH/QmIQCg+GAN71s2kgAaMiXi4sFcML2GLJyODjIYl56bPpu8QMQVjaZvzyQKWI4oBkPingS+Ijd7W4iFze/UqXyrNjiNIaQ9oZKJ8xIdq0iGot+bs9uAe7ACd27NB6RV2qxRt4ATB7J3nkQpuol/3aXJVoKoNQaPOFMprRzRKt1VHkAGifbTB8AyULzcQduW9XfWPxxKTmq6I7SGCRBuMke0mBTJKULsW5UPhQjbX2/iw5kdB1OHgrf/7EV43GDx4hq4C/R6LtUGP52scrSxCYF03KK59eiRbtbsp8UD0NHcdDk9MA9HlUBpZu6WuPvJK/maLVuttevT3sNUk/Epn+Ed4Cpk8Sc0AEeB8YeBmz1hFTpvJV5/SITItiCLLAm6m+3VMAgibHnk/jTDaGo0kh+35QGmasY2nwys0LySeY6iocVAVzdqUKYTS7ZcjIlXfnGasddj+n8GI7jZikAk1y+jE6+e3fRyejAFMAhZ4WkrOwkXFHMhpczFdav9DYuXFF7gLgG4nJCAQcgJSxhL+W1kYtlXBOkE/53yhodZNYmC9ihIJx7zHo+R7cKQMh7dFzNz4jivLHsYs3n3ZAKDJqnsXd6gcpsIvx/NktUfc9+kdnk06GYrRgjVw1KBsTGKXPIC2LXU52BhGNzUYfzpQE9KO2C3wQBQ1FlCS1V8xHVcMepv9v1BlSkHo2vdgMdZBcFt0GaV7lIi3wra8fMliqT21664ia5cAo64DzpHJbK6X/A6Rn4YYBkIKRlPt4sMmS2QDHZ6jrUhl0jEvP2pdXiD2twHaQ31u1Fzg7r/oz+nmTJL3znPiG65o62HC/bWZQ1zN0M3g1+y9OMKnPLGqZfE3dkMrbd3JHx7knUaaJKMJkIaGYcnsAO10xdEgZeT7F1c4ylJQExIJkxnkYKOju+Lh7aOFKDk0lpMw8XXKBhoySyL5UBfbXJtVone8YPzxC4+xPGmZFbUhjmfGfgi/63JW/T8iMyFtuWt6TuJV+uezVOeb0SG8m29RU08u32bNuj+jF5YqGTBE6fl/nF/ICEcaX6rxvw6RZSHdckqNqD4JOxawhjD5XMfHHzrQccLLvQs8RvQCJiEnPaw1THS98c76vTvo1psPM8PpZajG+wWNd7puzwSnq9O3pEojpuHv1QGeSPNngq6RKv/uDhA7IramvDXKHPmkCx0Drr05udXB7DaDO2lmm4kDEWzs0sZFO6HDxEulkv4RhahML2s+YOY0Sf4B41HpM9FxZyLEpoajuV+//9DvxaixVMiXmw3oFr3hgXkTKipGJA+Yd2cTElGsDRDSPLW8Tln3oUl+nZR+/c2PGVOuWakhH2/8cVs2s9moDMbnG0jgQ8xydjTfQvJRRJ+fKT/yncu9PHll6yzLhrwCV6QbPaFQt1AthS3zkEJGjUOxQiAN0FJe7b7Kn4tz8DDFRWkrzySeYT7q+Fp4s3wYFdSljGaRhQUFNX5x4cG2A5itEaKXDTCHV6rrsu5dzQOZVnEwa0wI4GUs+h5E0+AWOy+MSdlPKVZO2b1dtUArmjkWZRa7Xj8OO+fnZq3QmkD1DHwW0dX8VqckiWZPceXzeVArbenEa49X4OjXEqcrVTGBrzk2DInBkK/oweiOaAyS6sJYQS9aRuWSWZYuTdUAmmATWpE9gD1DcImJidvdAhK/rL0tdnEY0WvImQrrxm6wpRyHOnBQqXXNGfJiDtp5WpbihbiXiBCK08CCzWQ1wm/D1pF6vXu5xmTLqnRs3qA4gzqlNMuU18C6N9TvUyUGct5jJe0RyBg8LdzypvDX5XO7vFldHlffRfSSSgPFUADYZm2hPObn3sE1zLrZyGsnf6HcwH8f9SaL9+38d1IpjqjYorO1H0PZ+K1cF+3dNshw5D2nb0JCTEwRR9DWVvjeNb1YiZqG1IjESK+e3999Hc4XN7BsDDsu/icgLYOWnLQpb7YEVGqtGG7o+Xp06X3YQptVANd13YOaUUHICmu16N81SesG1XLHjlLG/RGNwWFhoNDIZe/+C55GC5r59Wg6sa3weezx7fP1teQDUGR4sv8QF/VI0x68gxSATRccoZPIbiN/5ojocJB4GVViD1BWN5/eNG0XDlooGb1phUzRHDEKPbtcimQAUsrxUMRZl9N57KvlCe42qPw7B3ZOdY9KaqnIZX8Rg3uq7YYdMDVyotO8cqL2YFCqS4DOeQe5jfUtRAJnZC0PR891dPFk+98LiJAGfdmak6IeOesoddItfOK9WmvvP0pSCqV/qNNr+BO9P3VjX9q+/K1Qg2/UsyHeDm2rOSjEapPjpp5WT6dyXrlWirdbSg3SdtkyO3ciOWs4+EnA6tlR/AVLCHDt64Rc1zahbYrz2mUqxXwJ3Ci91P5hagO2NfSThFDKaThOu+uRPCIk1MIw/nX36dt23JnALQTbm7KnK31p8eruGvhEC+tr1ghm+nLGeKhzvtUPk8oZk9agpvxoEtivxVyy4OjYriyA0Yayzaru9DKbNnADADjYGNubul3ncFYCCS/O0c8yNZn/iyWcI0awUbXjDLVmkiLVT8W8BFB910R+NFWtszBo8O8/kGqTrjBe1P0/5yYX+pd5d1EK8uQ6fsPE41y0FNfWSqW+t+EOkRBzfEj0knae0Va+xddmhwxbcrt74PAE/ykpclbfsuiuQYzCa8KZkT+qTAyYxw/pvEzYKDHaoQMYKQuqwgqmZw3AdYFfIu7ucXQfXB4oOERiFhbKvdXY4Nh+KhNKYv4T2wzBxHInRVWA2V9pKPqm+uvg0vgzCV8HMTOdG2Itueokku7j35AkyLmLqbk5FJcpe5nmeOwxscIxMNQ/9MCl6rYL4YWIyrC0mlyD+T0F3B9k+p/0bjDqDUkE26IIRF3gKW+cAJ5Mb54vnxyfJGgg9D1scN8w8aEek41EfcDxS2LSq4QcUNaaImF/zXHTUme1MP8jYGyNruqyg8/Btx5Oeh3CpHMtnpUIxkcVKzESO/mI5JVP/xKA8mIcHMSTq4oSa0pGUBZUmZTCalh0Avrpmzmagd1QZyS0k9S8A0HKJUf3Sq2RxHClB7oAfmEHaCUBZ/k8ot0lTIiS26SSGRO32KKgMzdYbIrAFj37rbv3hgrv4QZgZxwiGs7Xywu9k2LARQBR3EIf5EVtOrFBlvFk0L8yfZLJ8aI0+CVjmA4uvlmuMjiovtp2B21IA9j9DrfXS0Ubx7Vu+d4HKRrVtfX2j4WrrvPZZu0+dTgS8i57/LyZhLNuVreAhnsXqP/M9Jl90kIkj97fo6IROilqh46oEvJ1oDP3S/qYDpuFMLjQ7/3OKgCO3gEA6//ph7YSsM/ei7ekfrRFSikbZHX9sshYY2cpRFK1tIy4KtoM3dsMGoAny8A+TWf6bEqrWM5qk25vnDgFjXIbiK4r5pu44CRKK6UvCeqnE7fAFX1Af2nn3YCYf1OXgiUa35XoPBuM5</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
          // it was legit, so save it
        } catch(err) {
          console.log(err);
          alert("nope");
          return;
        }

        const passwordsStr = window.localStorage.getItem("passwords") || "{}";
        let passwords = JSON.parse(passwordsStr);
        passwords["0"] = password;
        window.localStorage.setItem("passwords", JSON.stringify(passwords));
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });

      // initial page load
      const passwordsStr = window.localStorage.getItem("passwords") || '{}';
      const passwords = JSON.parse(passwordsStr);
      if (passwords["0"]) {
        document.getElementById("password").value = passwords["0"];
      }
    </script>
  </body>
</html>
