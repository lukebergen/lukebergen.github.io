<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">fUgnxRhEuMQdgYbh:U+D5TI59NgOdLvUil6NxGw==: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</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          window.pw = password;
          window.cipherx = cipher;
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
        } catch(err) {
          console.log(err);
          alert("nope");
        }
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });
    </script>
  </body>
</html>
