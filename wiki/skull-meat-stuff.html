<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">xkQl7OiiGCz4u0WO:wxSvUWyEcrtKiTNqyDmDmA==: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</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
          // it was legit, so save it
        } catch(err) {
          console.log(err);
          alert("nope");
          return;
        }

        const passwordsStr = window.localStorage.getItem("passwords") || "{}";
        let passwords = JSON.parse(passwordsStr);
        passwords["0"] = password;
        window.localStorage.setItem("passwords", JSON.stringify(passwords));
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });

      // initial page load
      const passwordsStr = window.localStorage.getItem("passwords") || '{}';
      const passwords = JSON.parse(passwordsStr);
      if (passwords["0"]) {
        document.getElementById("password").value = passwords["0"];
      }
    </script>
  </body>
</html>
