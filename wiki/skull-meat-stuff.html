<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">3oegEIxlVd4eEEPH:btNMN9y1hujQgbdFEZFNgA==:aELvcmaiOEtZbom6da93m031tvkrOyQZN7SEH8dZxF3ML9a1XPG2UW17heuqINnJGS2W2Zspgruvk3B8g+6RVAeDEeBCGyvgnaDamtaR4Q2caRhG2PyK9FUZrDv+mFWZOW4vfh/ybQ+DINcGBtIPTPhH4yzIwTAP7yBnYpcPESPWGhFE81DpT8aWDsNxuJ2K+7pt2FVApaHtnqaETAXzeTg4q2fGeXHObig0RYcBiNLtybdnXWviN1Ja4M7zJGgblbapX3/hpgMHH5NJVw+umKmexzqD90deG6I/52KCAgJ/lnwrvWgw0/Kh426dazuAonrDZrFKKqZuj1M5KmiU5X6lLrgosQHPwPQ4ddHrEqogkMZKI8cS8YYoUKUaFGsQjNr+/944mAtgYAV8M+GaQ30dSIpz4FN99GBdDyRynwt8HwV2N/o7Rd7tOfaiEjQdTg8R8Q5NYHKCehZupUE3P41sFl9H1eVcAJkesdFRyWjy6mVz+RXWXRHI5pXIUw44MvLbtZn1QhwjaR/igEMAu69ljUN154n0M6v6YTPXDtvGpb11Z5qP3AvgOsVVt9QeZgErb27b/01UVOEU4oFKpYEsB6fM7HyO+/TIHHKOZIESWCfKX2V9ON2MLLDsboh5UswIDZHu045YwlOb2/IEVyFOBCcCRV9PLymZkCm0qzhcosQXD118ddGZ1kAqw7Ifo0Fks5yFcR2Y1wTgRKr6AYl0ULk6OtT/+Q8Py7TBwvo49MJ1Ezr0JRr+/Ayin/AZ/FSJsqSQ7ZmjgvZH2S9dPljg7tp1g6USLnmW2Gv95D2ld2geMKAlD69eBUEVTfyxCvrKry0HhfjFVZnuEdnmdPU7SPSkGyitvy95M3XmtkLV/paeMLZ0GabEsPcHczv4T4m2y8zJBMfjWc7y3lcaQyXPQaRj/jcYwzMRgKXeMc1JAZDQcN2veDvTSG+AIONCytTT9uqIlNn7CoMG2qDADUrELun1ejqIIQuYwZCwHnNYZdvGYEu1g0xV0QjwWCn0wrZbx1xhZd2aWrrFFEAXXnSKidYZXdZTTHS0r290DVW5VThWoFGccvhGHKDVVmlZpThMkgyPJE4HfhYmw+GY4r8J9m/mhqBjmUfn7Kc0c759HZZrCpWMMTwfw1q3lWa9H3XLREn1TzYjGhTpi14s+4YUyFeskhAQFbhyxKPBMLYMAuNo9S5SrTNsFfmkZD+r9rWdFE/XVBY2VhxL9TD3TIlv/uzeCmzUzu2jCss5YBQJOzUG28uIkgL1/pteWFQwnbQwBaWCiK96OS/9EMDsLehMCMNHTS0YbGY/wXiAd86SPUowJYn1GxT2F4BtCruLuwsHsLmB48uVDdWozWTyiOVMXW/4DKmtCiNEuwul0xzycu0J4SDrjVLI4z0Ee0vEGKF0DLnn8lwYOyWsIvlpjSjgQGzjgQaT8YiSdLI/2AewCeerSOQBNLvefNwk34yyROzcj9BjpFZnlOIgxUhrLdfa1D5dxbeZuNkqHcttZiQwfguvtNOkUU9srqEHoT9in16cDDo9RChrl+oGKzGOIUmywa6Xw7/JJ9JqOuNHeAklhCxRXBXrZu7QuN4OVcQ8I7cJimmu+5Gmowea/N106Hz1vLLkI2MdJQ8jr2oDSlnC1v9FKsw0+XT8fXuP/0DHFXgopR/rB7otTbgBhytEyjRNmi32//qP0Qqx+A0s5tn5k7qPUi7isotDwkp3qujKZVC1wRjmIuXtae517xYbhUWUW0uXRbS8hSKyqdHEdcvHR/ctZoB3Rh8Fmt48NpUuFvIZQx3zNwcmIK5xxrjVPXihvaHNiBEul/ywiEkip2UAZI0dk0xTZ0iFvBk+KzNJz0oZ2JONGPWwWhE8jKXYkaLD5e8AFqKSzrHN2I4dNWghIq2sF0hDjA+iu6Nx1Lf1a3ZO+L1iv2eE6pcAmIWm+mEnSGAiYoVrL0mFinpYPcCbUIvRFar16dyIITB/5O1JBnGT9u2PA6yfhIGPlBF0BeJfN7mLm0vCq1a2jnpI6wjOwsbRVUXV9jv6POru4K1v8i9bKFkjrkbp7jjRsRKpjYGhwlGIU2kvcfpT63go/y5WnniXtREPSPFqOWcA1+68CWBdTpU4eDKXKS5m0kDEWkUp7neVZC0+Q/osbU4MrvyegyRmhqDBHnpugn4O01Uy/D140TkT1oal/UnOMeq97unT1HRu+6iACjSwy2pFk/s9T6gaunc8ij/ksIteXdPN74uC7EaEQvvbgKRGl/27NA5uENHW+5rOsq/6uhdSvQPKiokjDYz1QT+PnKL2zHE2xu78sD6gdNkWPvrjOpcirQlSZHWmTPfgpnyceq+D7htAnHmuxdriFFUL3I/nU5Ld5OCxGxwiaiShcWFVIoJ2XJ6gX8Jz4ygWQMKi6xB2OmicygGqi/ucpj61aqiQSlU86RXr5vOfvVFuJb5UALmIWe1W4d6ShyCL16CBX9wH8FWOAwd71/5mNZgHRpTi8HycYrlnmo49uitBeYVkF11R3dDC9XQ3/q6ULA3lbQuDFOIc08l9gI+k7WuhiArFJiZWz7NfzGggQrPaX9e0IhhB7bRHK1wdCQYzi3Q1ms5YMUHDd40afuG0J6LX5NRfJREPEhpnhp/jC6gAiTdp6QqLurrdbgsQxfwCt7pegl8ZraUMIumsbpGZVklLG9/L/TEC79k8knX4XNvTDtGlSqW/5THa8I4kYI6OdUB9uhf9NtkgyuGnRBdrj1G4xeH26nSBibkIqBD0Sch9myqjrJO3oz2OUOYYWEP8k15QGQM+wlMrNPMqx3m0M2Dkqv3bxx0zIj0Vsuu5TbLerbGwnutYUKPadOy89efqKIYFsQuw9FtmLeC2A9kdjjxNjO/743IJRPH0DeoHnf6tG94td5MirdkMgkNxPLJ+ToVZmkk6/iL1RsMlpidSOAxomIDvjqFMvpITeRevAVBGs9JHRi9WS1i8X395qVDLytZBYQEyCIiPdwDf65fEc7ZkWwUgjP63lfSjYmWl3RWcQs2D2HdeyMgBWtTBvMnUdkjTcJT5y5wWU1PNpviCAxJewfyUjlDizJUszV3Ry7KaAZkU5+kcaEcN5f7SbcpyBk732Vz3wdHjvpJPQH8xXZlHfzB7O3xaFKv0H2xjH668RNuEYDjcu0OgLRSw4sZBiWZLtCwZAF60Ud72bjEPDkPskWrgDkn8LBcF2H2y9vk++0f+PmtEPANWp4mFbAicvp+tA6jBlB8413zGzQLq1DcUxfJcxJXJzDstpUQ5PiTJ/3KsbiLKr/xC8QA18HgolfA6ENUqD3mCygxwku+27Nk0xiGsCGL+JScH5GaCY5Sh/cZhpqVcVPkmaITvEL1ZEXWcaklGjZ+DjKFwJ0P8Py6Ej1DXyENwLTXwyAMFZ7mfAZzjXkwYm8zQw9BmuQh+Uk6byhAt2B8XQp0xZWS9WJTauHn3ZkH+Ao45S2qWdGMRc1y0PE3sQP1ds/ECkGTxHtgYZ/gGkQmduqGNQTFiAxH6O9XIwUQIOlo8X/dosGuhRSz9EJTjzmKCdBSGDtIA/OftyVbKSnTigfAhUy3d6HvL7oT7HKW81a1vIYZuR+PZUCu0vf4RkiOeoULgLeTK1nuseEgr+mUSzVfEgReLC3H27jlUrUrNViDf9qujeCWldK1EhZgH0BUvFAZdU/RUPTKINUTKJ/DsIt7od4r1CD10bcT7cymkscVYYmWh5z7qYGc9Kn7SbFGPyab2rKPWXDaimfsbfaep38sb0NDTINFWy4walnFH5d5TcYW0YrRs/baL3Kr2KHoG6cpgrhJnG0og7a8qyuuHkKwjlSdYtUqkvRx29iJI829GSTZ88lNMdrF6SYNljeLnm0sKc7dU8FAiwaijLpMHbfFKawKQ5n249xRqTOOdo/bTjxJgyIGksmx0+tBPH7aLSZGs0pCEeq/uEu+sBskv+4UcyCYlvvlT+Nk1JnsKOVZo1TgG9S94ihcqoXu01zKzmg2uKDMWrM2VLYwzcElwu9qPWtqrYENADDMzy3bXazk20PKiWHXNPxAX5Ylbas/RojCwMSEVpwZ9s09ISWpfudje9rq1y7zIveP8g8uqSCtXB6rxq/Q7c5cBWe1qsj1TY6rBSZjmo5e2m4iSKDrOqkV/7OBK6HogJfmbQ837OcYQ3MXv2DZHqOXsgslCEFLoltZ9anWG17hWxGzZ+ZMOcZ+x708j2K3m3waoahaKBdeGmKf+i2WEJz+WTTJKH038Fs0T0veP5Db4R/80jaCxP/yEU37GvmI84uv/WzXxtVQJo4Zv2XfzoHQD7k0Sxoa/cP96FS/r34jDfdYvZe+K2xmR2CAf8GYak4qj9IYrMhIzRtxqcFjsL/bY2rtdpq2+/kKWUbsTrc1A4AnR/4LRbrE0KFvkMaSFb6Zvwy+2LKgmaYGAE93jcw38yAuJYQ/k+7o+CGiZ0ZxZ9fFDwNiHFiP3+t+o09zgj9/thZT86KCmm3rdHzs2wEtHDfxnPJA9+Q8RblfVymfgOFwWZOtIxFW2cR0pngohSOKu3Bdwv2WCE/6f9qb7JQ/utt7QBdG6eyoWW1CyjWn3CVLyMrkYYE8zhlnAoEJFWXWhydbHsj/UncDt7EKZaCq/z/qcakQBfl1LE4kOtwX4P5ItxLz7+68cSaypHPn6R4mUM04ltvVBrzcJIEcdPrjQln0hh7dgfWHcuzcsfCjnSeOVC81qxa3Ur+5FO+31UODw6ky8QcUO/UmFVyRJRlyOosNrAGN6f9JF4P5gtKp6uIyD5f7DvyiGtEmQb5TWQNAnk2DIpeeRcRRua10HsuNPadJj++AuKWJunYRh3KLlgZLV55kfVwBdMMh5w/fEL1AkXHYRV17IRODZnkXQTgzR+AksV74d3o6XsjLmKUAdeBtZanmEzdFUKZ1ZYrDzLpVgJ0YjBf6Id9ijxWMSojeJT0I5sgsQNKx8X9nij5+3EShm0d4mMLuPY2SlFFft2zX7Crngs1V7eUCyMZitkXTNBbs+nEQRPfUO8RIHikvp4PlCrLCdAtc4k3nbIJ9yVK/9VfowTjMu3IsSWhiro3VEtdu//jut0P/mg3hrtFo11riVBWkVsm1bke6EyT1Xq0JuDK7gc4ryVLQ8nOe+gd9IM1Pm74c9DJ7Ei8ca+VQJH9B9DqLBJ6yitaJbA1KBE7E79PLd5F/CkRx3a85o/XFIMzkIRxez3yFtvatwpa7cSMudGTGemYj+DmHl5n3k2eUiFK/vE3ex7o4IbC8rZD+837hiwCbpTWDi1aTbCSWoJGKLuylT9R/JooEjxNKQAvOXJyTcg+aD5grEyc3AuGV+E8mvStEOrmAkZogYeC7yhGACEABtcJhIJg/WXxEGmLOrnYwbyRgi+4QWzm5m7YtIrh7qF9sjEK/Ew0N2yCokk2GM83Ra3Z0vOs2qg/1D/+QCl5a/GJpudGYjcBWuBPn5FxQQiv+90CWlR7CHf96l2/GMFADaKYP2ZLu9UKbDt45qKAlWW+5+KpDOsCduFDmQ3CNKscRojhkSdOThUWALPqgF9WNUh+TGEYCHAt+VqVQbKR217Wg/YGtWIzRjaQZ3e8alp69oGLtRgbJJfgS7vyTaYUFo1RUwgCb3NIcCpYNzEMGWb8R+kovbJGiYyPOeT1s8EP4V1zH/GspQ9Y5WrNCLt7ZfLRk1PifSzNtI5Ub7vjWjm2xOpEOlZ+zGA9MSqdOwzZttcDWlLoyh/OKyz+mf6Py5EKQUlLOl3Pge/evp</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          window.pw = password;
          window.cipherx = cipher;
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
        } catch(err) {
          console.log(err);
          alert("nope");
        }
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });
    </script>
  </body>
</html>
