<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">emIrTN7N9nXgHKBM:xxXpBZ1JBCrwFjOqB7f1Jg==:GPc4I2z11fUcWNmA4dTPuy5R+tFdqM1gXVxBelG7liwJf6lKACjBDe9EAvS/q4vi+dqnyQOqJrqD6HDOeUHrXzo8+kYEL7QjS3oYo0xeLbAOtlVN/uIY+pS37lpLUWpOopgWAmaIt2BXYOAYD226QqNwhhaU1xxFIQlr28j6EWMuajGLDpRm0SrQmemeNETTCOVOP7cBa5ZCx/oDk5As45sZkgsTX5rE8gsC2qqWDfVRKpcEu9l7a4uG2XmVjjd6sH5DkQmUglko+a1WmKlE6whIVjbOgLDioeQEMMn+2aUKQp4jOrEGLx41MfjBHWDbeuS2+c7RMTus3y3IdNZmQqiwUh1XpsXUX+QN0XvX89pOsmQXdLYAVh/4jLM9Cx9uQM8txusHu4ivRSCPV6CN1HtS+7UU/EZQpZvrf1QNzblUzvIQ7rXjm6BsO0rp65hO1TS2GuStuBBfZRPVUmNH2H7i+XjnXGA8SI3V+a684hbXgNNf5qzrO/Cu/HQkaiiUTdP2Hjxg4BsfJL8CLnwRXfKdR5VQdDQCnB0g5jHTRd2hA+rGfnYDoP0YQGZforEP608TqaGfHbmfiYXAbcmYyfOvNfMw/pJonnlhIv/Y1zzWszxBBTJ9X36mDSqBnDR7ofcyDQcb3PMQEu1XbNrY0HLM6pmsjKsSfmYlmE3xPUlkZYopV2DJvhJbP4dugv2BJGWs2ONgTMpVnMdJ76VVMzE/u1OhXdpXOnCYWnelY9Sp4apYOL8vIoBD/eqhT3oUFYdaQ3iQmB9Vrf8xucoIDQ8guFN/8Nko+hJdHIRU2FUUmIj5iLvM1h2UW+KU2GgSYUjDIjtL9tsBHF1SMPzmLtT3TaakP+uGVAzQ9p74V/20oFv5zFnARao5Nr0/dCsFFLIxpDHeB8KRGz7snrGMxZBD53KI/HnwJqoSjQzJU9ghaknomTtPn+9q+a0qR4xNwe2QWJsN0/bLe/LCtlkpEJ05vudAPa5twWL7ps49TCiucwfYyIMny4HX8dqsrK26pALKR4Z3KfhgbLAqxa3El0BuuYyTNHhADb23zqiuzvhvJyMXmwCIU+boGg+XHLI5qYD20NfLmD152ShtNKcXMzvxI2vPfhZfezBBbfi1+5Evw9fXEHWYf6XfoGS0/vTiu24e5MCoxA8bV8TGwzJaBFbGslxu8bst1S/Es39P3/4DdGhwiuOakdw+0lrwfSamstjvLfBfDeHUAc4NxGqgN06h034GkkFfu9Xr7CWGTvFbpC0kQGJ6TmpqUXjSCtDarIflc3XK5VRMNXewdXT4RvxlYRJ87DJ1/tIk7fLDJ5PObV1JhCTmue32lJJ5IEZF4+911B/e8DE5gmctfxqgLOVjHnP0KBR1deqE+FHcLqwdbEe85Ug0arT+CLgEPYgiRSViUv5aLeJ32IqjPHvwpZupayVS4wLnrKPnGkHhmPGKgAvOPXdnqEeCxnHePUtbk9XvrdkCmGnJx7NpYVyVmgJrG5RnV2JogblnoNWAlblI5GURt3ZgU3axFXcAgMO84sKxQyxpk5DhT8AYWRbeZLtlUCa9YrbjH5wIvlrZC/r1YNrjy2EqaGCaGeE+S03SDUnLXM75Lxglz78Rc5AYGydUPxYvo8nggui7nr7Z+5dlwb2bxrAzDNpOT6HLqGCZjslnv42wkEigx7t3dtuOGsSqpJ+XkiLceTFvEC9nJ1HLqj0ZEuvsVhfMIgduJFJcpKBBOUPU3BcE0+z5Rx6isfyHob/MhOZv0w2AFr4qXF51qv8tnlnvNg9RGbkzetB6phGYI+HYWFyv7tsOq5vXQt+IhLH+d9a6nNhfVsEmI/qGJBZpnPwQRHnwnkZhUdxBtxJKDT415xfAroUCb5QL8QqrZzHu7IIFj2KbAWmvS4bWz0rpEHJ6PWR7ybUUue9G5dAlu71SwCny411FRbIfBoXRYqtOhKCtfbxyvIPuv+9S7i5jKZ8BuJyqSr6k6y6nNXMLODp1dY+ptzM/2EEZh57aATnZLV4agp8zxu4O7wMqnTlsQOZaHDujEwAjK8w/EhXuidiJXnwQPucXLUv2Zv0mIJf5t+F01+598rq6aWbMBA+lVV7wnxyQ4YeX81mnEwGZWpYRPefPCCptK2hGhCt8ps+4As0YgsJOYq+jj6UG5yvJLsnCspiKfhjYbJ7aF+HcyJisbbhMWc/rIEMwWspkfnqK1C5WPzqy1F/1D+tzf1RtT6hJ0dnpau2g+4qd7TqwDpgG+Hbzw85OyPufxw6yJM43F+45/9YMUyiGDGs8H6BOUNn86fH+2jNYSLYLrtIH2KoG4mAgzpHHFS83WGtmhNVlBNFiz0UjWDvGORLFfKvBL8Xmr/wNrooGEFwL09rkMGde0gvvHETER3VpUrmGLdQI8Kmo9LFF+2mPh1zbhZ1pWWE3P1SHjOUTmK5WBDs1EKJ5OW8POG7feFlX6bCvoC31+e44EZit+gAM1ORhnOKQzvxbTuND5H9+anhExO188owIK9Zi3oqbn7IzT33cDdu0ceTIZnDvZbYyAfcc0mSl8Wo4/tRu9YALkl/MVlsmKWZfjXu3iHey+hc0ACWlZ2B7Xat9wonQxs9UqCYVRTnGM3TsgtUYoJ80frhO7WeHGTs3ZvVtCxRh/ZTNanVKhFE4p9GBSVW3cqxVZvOF0oBzPqdJ0eDghDXRSSkKf2WxMiyePbD0grJCwIqi4zYexyvZZrkB9Pv0N5btLhYKcC8XUhgjXRwlzs0Jqc4OS6blbOhz/ciCCCxkBguArOhstxf+JdCmDAokpko4ImU1yo6OcPuD3oQdfd5PA7dV4HoAD4GxfnyDWQtP3f+ClYFi18UMXBSrJ62jsgveNjPaeYRyBuyFqxCSeqCXZABDeJNAmCaEyhdiVp1rc5R4/18CcwEbyG+Z2fw/c3yy9hfNqx/JWHqdrmblD2FBw0oSTlDt2s4kjHh3Nmp/HRMHroOdAKkvchNOF4QVqavXomFRVFGg+EbjLckR2SoDvFYe9XVOkhKCF96rSTGC5Qz0GIYbRXjiByYhwkJRWQExitbyLfjbUSPB6t+L54qcKAiPTbV+KLYaRjdyihYAh0NqIiKqsvv0/h6GuedHlbHmITFEKa5tK0ssj3zKqWLDrcdZVTDZiOdOVDdANmSuD7ukZnofaXcRVIVJhgQQ79eh9fCjTdN3aQYLonaNieUVEgZmRib1OhT93cE99AiJz41hLsEsx+fCEzFpONvPCK2XNksJFC6dXrwFyuHmjJFVH6w/bTWjSTcBuVK3TsmLFeEve77E6YzlO8geRRe4KAbDfm+aN/JHaey5eYNBzkaMSmXYwuty3phpwkQ7boF23PMe2hdzabKqDdwYf9iLlflqGSd6IHMFGlKheodlTacifJMucGFJncQDJUVMCAgXQcfhmy57G0j3/9DJP1ZoWAQZ/xPnqZQpqYnMCuWjog7pmM7tP8zcr2jBqNa3z8gXg+f0BPWOQZCBYJ5+bJAoa0R5GD+hdRXMEPKLaEahKLE/srV3u+QaWtD36crYuH/WD3wXpo33vUHss276iYfjvowVksNhAewyFjP4FFl/ibOyORkxS0CGZdecsPXovGcgtTRt1ut6bpAAENFprbfXMqFhVzeXqOPUCz6rolrG/xFo2CusyHpd5hcJTayObhMOxJR7eL+xIoG9tp19zXo0AwHjdn5dQzo9Ge01PfTgf8yu5IBOEiQnodFq3FXX8DCBPDJ7PdvcD3Y4FQqAbfMNdGaarbca98HPw2XoDA7LdCHcuBAlWIwAOXly5+Pt8rKJlMI4bLb42+lHwFINlXXV0psFRnweV4PJkn+a9gruwUumqL8vD4cu3r1j5pNrLw7cn7ss66AWmAG3EzO79Qfd04PgTib5T1Yv9wjdspfb5MMr3xIKs9gtb1g9/v64dvB3zV1ARPurjUmtvzeKbaqVLQpPAYOomQOailPgwvDfdozJR4Ul4DPPxYAz4XsNhcQwBA86IZlrU+G+aScTz2F3K0CNYNeHOu8z/QvN42qa/lC/GCCkA5SV3u2Vm97jsqEjE0LwL8RCzX63EBbxVOkLjtZ42Lj9EkeFRhX6CwyTdYc/ekGMgbpk4cDuhXutOCzeO0YrHLP+N/3rfl0FqZYyIi+DHN2Q9pnyhc3chCAioUoL3yMzz+ZvzUSp7MqYb4z+nno89zjC4NFz2WxDpduw9X3WS7BHh5uVe3sdEfJ0/FKnF6+pLIBuN0bCq1198U+0oZG/THLdrv7nbwRY7V/ViYFP0u5QIi9T4dLX6v6YMJcYwECfVj0jUHwSh1RXrggwJhbBFeG93cmQBSmQgC7utkN5jd0HbaR8cRQyVjgBLD/qzcsmx4eY9ZCiksHZRnphnNp2jg565K1Qy711iHYjiPg130OH/0/mTx1Y3k2g5A41AIoKWovSRwZEVUWGaRbujknIPWOyGCBTuCsCbFMwX7nsnjuppIKrxJExbP7htOl9023bdgZiip4Is3zJSdgsW97bBN1awNGoEBOaSo110rOdD9RH9LwN52zbTqq8/TUUBvyiV8DzL0eatELB55U7mWYAjGtQo2HyklCJCaTFvsDSgruKXb8nm0YLen0P72zMCmSRGHOVHZCXYA8CGaaoPJjFesFAJOarZ7YgdgdjMqw09dtMN2mPTuEtKwxc55HzDbIsbsJlUaShOXQUhFLH2pIAeEIskKOCZu9T6p+w/YBrhXqO5NQ8SyG+/VCO9OgDZLzix9gyv91ZYhsgrDLUAjXuPFgNsGkCqfZ6Q/PQHUjuSFa+sfzld6XExRf/3CYmdOOAUfDhzRZ2z/rkU1zHYz5K5Ms5rh6v7zkxgEPcl1cuL4rCZ3laRYiSf1fvcCMD+SaVOK3VNzUlRPE1yy+FHdzqDq/Oi9mOIzpm4Pk58tMdZXLCh9jkTjjKuCfrJZqH8Qx7NKJxADtFoOzm1Qioh1i9aLuHdmd7RsUb+aKPvq97QgE6bFuJ49LPUtGL28A5XR4zOO7sjfpYwTJPj0zllXCzBxyvRtKfQ/jfl7vBsdl7D5Sfuwja2uvoiQ1RH7S+utHnUf2lgSvazMiBmwSPikx77AOrFQYmFxb7FYy5eUqOeCQw5BvvmI3Tg7nB1wSeWyH2NKoKzmmtvocgic8VE6h7YfHtRch6j8Ukxnwn5K78qfXwSQs6BaUYKhuBKUGZ1zs3W7ZTaCuo+Itu+WPosZUoLqFoBIJ+RLdTLSWbnFYIKWx0KcuQhKUidnFpVZGY4DuLo0IScmKIpXIFKDGDVwYt7zzD/Vcry/N4Uk07VlThf524LsTdb8RIy/+OC6JTeAjRNzRCCwH1HhyFU4TVMRWFlmoX81U1Az9Ur7FChf6zP8oN3E/ApFYk+uKlu0Dxuo5ImdbvrVAr9TKzYerZ4kzHYcgvnU2WHKgcpCgFmBqqN617l66CBRvs30esboDVbEV77l7Qbw80AaCI2PtcW1JoizykHxMIRd9ZBbskOmxidVo6kayFBww6GjCrhr9UmclwiFujw2a7fdznFalMAFe7TXrD/31eWWgfpAuadYl6ampWesxY0F7O3Etd0nSOcIPU1CkpsuOTxHTkK6SPgtzhPT6TgE0CRQZK2VWvYDrVK04JYEgy/C+PrXvtRwD1VIzXxrXQjtNXGmHIzBEVrsadmrY3lJ29X3rhaG+UqHwK38O2FNOxZVCAm7miuS5i8E+HqlPn229wFaIoPuyjqHF6eZ0se3JpvwgM6Cv2YZLo2y63xGg+LdRfI99ZE9bb</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          window.pw = password;
          window.cipherx = cipher;
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
        } catch(err) {
          console.log(err);
          alert("nope");
        }
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });
    </script>
  </body>
</html>
