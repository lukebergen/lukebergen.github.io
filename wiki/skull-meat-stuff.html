<!DOCTYPE html>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="https://www.lukebergen.com/wiki/style.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <title>psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(() => {
  global = (typeof global === 'undefined') ? window : global;
  const base64 = (buffer) => {
    let binaryString = '';
    for (let i = 0; i < buffer.length; i++) {
      binaryString += String.fromCharCode(buffer[i]);
    }
    return global.btoa(binaryString);
  };

  const debase64 = (base64Str) => {
    const binaryString = atob(base64Str);
    
    // Create a Uint8Array from the binary string
    const uint8Array = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      uint8Array[i] = binaryString.charCodeAt(i);
    }

    // Create an ArrayBuffer from the Uint8Array
    return uint8Array;
  }

  const getKey = async (keyMaterial, salt) => {
    return global.crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: salt, 
        iterations: 100000,
        hash: "SHA-256"
      },
      keyMaterial,
      { "name": "AES-GCM", "length": 256},
      true,
      [ "encrypt", "decrypt" ]
    );
  }

  const encrypt = async (plain, password) => {
    const enc = new TextEncoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    salt = global.crypto.getRandomValues(new Uint8Array(16));

    const key = await getKey(keyMaterial, salt);

    iv = global.crypto.getRandomValues(new Uint8Array(12));

    cipher = await global.crypto.subtle.encrypt(
      { name: "AES-GCM", iv },
      key,
      enc.encode(plain)
    );
    cipher = new Uint8Array(cipher);

    return `${base64(iv)}:${base64(salt)}:${base64(cipher)}`;
  }

  const decrypt = async (str, password) => {
    const [iv, salt, cipher] = str.split(":").map(debase64);

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const keyMaterial = await global.crypto.subtle.importKey(
      "raw", 
      enc.encode(password), 
      {name: "PBKDF2"}, 
      false, 
      ["deriveBits", "deriveKey"]
    );

    const key = await getKey(keyMaterial, salt);
    const r = await global.crypto.subtle.decrypt({name: "AES-GCM", iv}, key, cipher)

    return dec.decode(r);
  };

  if (typeof window !== 'undefined') {
    window.encrypt = encrypt;
    window.decrypt = decrypt;
  } else if (typeof module !== 'undefined') {
    module.exports = {encrypt, decrypt};
  } else {
    console.log("no window and no module... where are you running me?");
  }
})()
</script>
  </head>
  <body>
    <p>Private(0). This page contains private stuff. Feel free to hit me up for the password unless you're a bot.</p>
    <input id="password" type="password" />
    <button id="decrypt">Decrypt</button>

    <div id="encryptedContent" style="margin-top: 20px;">J94D5NuDfzS6KYuj:3OgEl+ssTd6Ho0uHgyq78A==:oY4+lnA73jkwdyU/P0sQCbss+6GzC//9c3PWmleITVJpx7WFAHb5YssrQ4E/wtPSDZ0R4RrTh3Sgei8Kf5V2AgTEG6m05armNrj5vKjCUX/DURIFogwIyidOySaR9/EO3rKNgHitScgW+99F6cfJgOh2s+x0adob+Cvferfbp/GaZ917gpWv8pmQ7mPJbz8T0Jwpkj86BEXSiHMO07xwybb+OVIPoYEpFMnuaJHRfzUSLTttD8rCg+K6X44ahP3WuwfNFAz4pmCVGmru4TjCFqPHGGF7ZoB7nZWDiBeXPz/kMjkjHpjtiQrhE8YZCrPWQhs3UYdJW1dKECw6rw2vaUuGr5tj6H1andrbRvqoW3ggxEPnazCC6Qi1/XZrw7uG8vXMJ7PX3tW+ybIW5DjeZvdQvQt+HTG/HeSQpk/aDw6ngsMfjJD/gEYAbDNIeOqvjSABJF9f98X5GiMxlRFVN48DEw8cuB0S8f4JAu2Q36IMYs7wsFHYAFsQ0eldjzf9JdPzKDLak/CdonyvJF2ibqKIfTYF08hSJhP6JU9Fo2YCF4hXXwGQk4UaiodrnFWZiu8YT6XRV9ha6tyewMAjWSdiEz0cQPYmmOpUd6n/rxuPaf+PoBK/T/bnGvRECN7pWpG9J204OhQW06YR7xmc2J3elO/7xTa9AD42nBYFgzq4qXRgMz7+iiWLG6yvHm15pjM9hgmYeMZqT6aTi6j2V6RnT27cAYg7hqM1Fsl5wxdDNH/MnFcj9W59nW5SiszlfYTt3Rxp6EPR3pkYMRtVcL98vEf4CqqgVnmgCAxkZIlY1NWCUJESa2ykEh4FHKxA+JBa66Pk2V9b1jQCuj3dMzGZg+wB6lNMXPb8smT4Z/pNnqoPQQ5WkwzD7a9SOQIJrSRN4SC+ao1HcnwC0sC445jPrHKvEv5c1YBk7ttqfQLNCKIufXkM2m5mXzdetyIt5uMYkcG6Wqa1PMvtAM1zLnyYeBTDi0B7LtoGKmHdibVaHLZDOS1zjeiXY6R9KtuT1GM6XcgnGcVonwJRykwOZJwXIYnBDzygQQdVfKg2V6QounnM7VUrMAWZ/CJ+O2elOfE0yXVVyyYr39aQSwcZQttLsdOr4wB1Fyb+y2hzqDxWY0/UBVQ1F6rGDIhpxxgnqHsnAKWGbt8ZIoI+Xf5yxOzti60w2D82LIW/lq2IeDthCiOSIGaA4eIh/HbzVIEB+wY/8cxOSTJBYVvKG5PbvBLI9jCzXncqywg4kwSQPCBEp5x1LTaUdyM9RzKtJlU25DpL5TFb15XE6wnMaq7ZJp/DbfFPvyZVakCZ/46US18JzSe1dAHUCD7yYFEuM5ZqfkOI3/Zi0LzyIdaxMEG9UY+kSRjRAQxNrzY1/AAVHKoMdGevwSWhwqfzYdF4EmO6jdzu2n2p3ftNjCXHWNKk7v41ox+XCYAGuOWvkq+zASji9qD+jAVTKCVmXSO4o71GcVVjIrFwE+NUirxFMpdvKaqym1bUYN+yGCcMjne86/NYjg3otQPmTzPfmJzj+gUDb3jN4ndUQIE18yrggyEK19PogMLvErqqm/CnIWBN4s0AN1b7Jb5kb0MjJveQVMgW6khyJhi9kKYmdkCSvJfYhsW44A51poAg1jqQqadNi1CTReSowgltdgeOCCwIERZtDNdQhD8CmDf32ZRZ5g24z0cLxWQP84Oi8BkTL1BjWNFnMYZ09MYfDg0IOUIneJJQm7I3GjYZ1cVLDuaFSy1WFVsO/+q7sRRIdA5hVDyiLf38EcRxsGpsbuA0pBqKBNKiOc1BFnqgeuarU29XM+NqIX5tEqKEx/SXssEU7xTsflSaR8EJ8DHZ/opLZZq63Z8UDj/o6uYHJKGQZZpW25ZvDQPMnwwrM34iFv1EPDWuFxwMhB1YTWiZ8fh0Xzyv3aqpjkqB+TNF1tjUqVzDeNnlL8/tMPAovSSljAYa7h2ijRA3eglRCprruEmSBVnOQ7cKuUq/Oy98EayBmebFjVoG3uUcF4AhaDwiwggbcW1TmGmXus2Tw58upgb+j4l4RFFiLBU0sQSPaxWpXFR5lLAOCdIkTjDU5NQUi5AGn0BK1i9EoBJfB+Iv2BIy2cJTtLPUWTItuX4086oVNjBpzoaB4TcBauvIWbhDDnrEmIQbOv2mpizmgtzzN8wdp8fM//DsIKBV1e0VfuCpbH80GhTyYw5eM6rB0yyzZBF0ALGv1s9e3HGcYbRMfw6aoPXkhpviBAGtNmBWzNJ59rwOlaZ8DfRsDSwgI5f/3Xdvh2Hd9KJ5BaUg8k1y9E22sAMUFhPNtNrPr6s+IJPmIMUP0K39M3KVUOzAn2iSE9pCekv16Qs1c2o9awziz2ZoqURXCJrTzhJ2mz37k4BpcCDxMrbNG4gEfHYPmbkP/dHTWIdKL7tyUAB4rMdhedfEO8T3vRD3tpGxgaGXXs/z5CNARLttAxE2G7gD28xHlaTwXoUSpFQXPt14zytBe+KUKWdYNuTsBKvlP8Beyg0+/bjcCWG74nDXTh5bsAXLLcRmRNd168Vasl0Y+JWtUYHp2NJvGctpQkfpGUd5UWhYMgPqh7OS/5Q1N8Necvr4sATcfru6pMhq5SpmIH+Ok72gRh5mx/Sv0jTFsuvR0HcSJp2k0zO6YVJc5/RTaQO1HEUMnVBZt1TSuaigoeI/a6S9172GlWWi6UGE3YzxmjIt53bE8tRxA1ZpYjPgat324yVbgciL09kuDf7vX0rNTLwNayFBf4u9kvxo72GXgUyXaJ1/id7W9gTqwvbhEcdntUjThVg9qR4uL73L3hC1M0mNf3H0r07k+yiDBgpSvvxJiH6BY2rCdEHbmcGl9y+3MeqX1hsNyBj3n35xm8Q3ceDv1IJ8XR8Yhs86nFOKkAusBfBJPQLFwqZ8FGkjqJpJtT1AkES12BJqFW5K0tTYyVZUtYaTq0h5U+slKHHuYl/h7SFP1Cen+CkZRnHCXumOWFiQDPCiPmCLO4YyTAI0PeYKtUtuyIkFeL0RJJmd5FwMz3F99GmdD8J8f0NPehSz5fis/pKT9bbFvSX42/eX18OqbSArLo8PEqXXGDegnAcOqPzjewSt2UnyObjPJf7PyYzBbbBLlcr3jkG3fpIyfs8t7IjvJfmTm//yEyXwuaaOqLVi/iWRX1tUAAjSt50WDvZvyHA/HM0hQxhMNMXow1jnohuftXEuFY7hCSA+gDNmJdoSZelUwupb7i8+Sr43pE+dTaNmuZ42pxH5o7sibxUSCM6f84hGtO34ZIzoNocSorUuPzGuxUCXf6cdsrZKXAB0T+G83NMJ7ZO5mJWn6tpCJQ3j+i+s1y69/RpRyIPkuRYbFiL7NySqtVpnVseTSyRz8INXkK6NQY1c2lX7OrYh1niDXRvMnw/rckvbAtUbasJfWwVIPYb0x9e714T3DPxq9AqTWcB04MWLsv9Z5YLAUIegQnKWLAbyjK5jXSDol+PWdHRuFE5pzUrAm6Utw6n0Dx9cznKnpZ6DE2PVz62jvjVc+nEeiUMc+DzEeyjeLv4w6LvHoJzoTeWQ5qgeamsP9R0agC2KHVnaM1FOj/QHqQLiy8ocUPfTFC2VBpjGD9rzNqnKomS2S3xVmrnKa9SI/tX5yxOFLDeRfy6KAam9i2/TvN2QgKaD7DxP636rRK6JpJFNVm3Iiql8g3e8LLMPfTV51+pnkcp7z1t1h9yIyrql5jP6gSRVrsq4eIv8OgXGAY/QybN2e9w14eGZED/Y7dGPTz7zmj30q9yCE2GZI04zDSBE6WUhJMchCQwzGXRejO1Tz8DnOMgqqAQqKGViiTz+pc78YvZApAryqidF5pAMg7XptFx+6DamZ5R5kIBFqFwG4a2J+p1DF2ftQiDZgn3woo3dq3kDx+ca2cwl2Z4xqmYEBGX6bIBR4zE9z4GZTDB6q40z0En8dziP+i0gu/ao2p1x7OprN3Iiqk47RkU6LLhrdR6TsAnNaJ7ZlhCoHK7vFALH+xeOB++WbAE4+2H4i8FqNXPQhbk6qlo4mm57w/1V9NAidqSBXSqkrLC+YgFtyIzS0+Jjrh0RdEX8qcaRM8beJdZ9d2E/AHI1W/v8ag4jC6eMFxhxP98DaROK1pPFeGRtHjbltPW8XGbBllCI18/MnX8ufY+CmzBPQ+JeyLEDn1fSyTfpL9Uk+WUwU39PnKb1/GzOsgeHhZEIl9Nlea1LyZb9u2DrfliLS7WsmIWG/qCQIJo67EO7QZvbYJZl/e/MxGcSKnB3JQnmLaoox+bvEGCj0cQY7bLNWvLKreB8Hm6VEsk2DFvXG7Epgfbuy5qAlEP6JIUn+0SbMFmasI3UQvUukd7NNGRlThlgbTF6xsdyO4hbCXqd7Yip82uosxoCpne1dEDPd3px3wuwltWEsz3Dv0H/BSVJzmA61JgqzXQWaeEgjw7WWXeJhK6S8reCFMZmh8ela0rdadlc78yk9dFcl4ux85stdleIU7kfvAFHa96HjERTqytFaGzJ/4XNxCPkGznQFPggfaqTrIIeKKcSDBtTUVw0RUooWaFmOo5EWZnzkHeZxgLxZCpg/8sDj7VadwGrpzAhxSJKDY+ykjo9D2s4vJv61qdhRssDv4FjWFrmKs/0/XkiqebhjEgCrYK2azvkSNlKlACpyTA/y0L2tzAAuKvRaGFAJket0JvV4xsbdf6uzq0VdBT+DSS/6QaTU2IzWunstAh0tcAf71CCGJfdaADqkd0n+E0yt8FjpLaBjBjG/ITzEDebDYmB48WxMSlZhvyI1dBiL/icByJ24GzNJHwjwVye2Y1f/KKpYlMgTxJljYnQZG2bvqXhxTehJ7n73xS6mi9YMy24N3nfeXnXwnI1UlXbJ2iei7LwxU88z8H2RRL/uRZ/Jmxll8r2st0SGsr5Sd81ZOz8rctUnHbORy09qqhnFiJr4qHZ3ZFuivAiwYUHE5IbMS6zUFP5xwznKPTLI4tSePqC/07fLfJuFxouI97R3VjSq26yj2iCDJ65DPuTjvC+pG2Oh0bkPuladVz5XoXU7rKo2lMOugGMX5Q+3td4H7rqNHLa2GQeRs+VyzdftEgVashzGTgrCO/cMuki1kP+Dvw9FTxy9J9Qvjfdcmmx2Hw2by9MSOsemnPSERMfKOaZGwuwR4lViKNXQ+9S8M6Sk30w7vDwCHr2twiupPHsbwx/mYWigRarwERun3LIjrtydwFiG7h7iOj5GIDl9kdAs2zvoSbQu/dBGd2jtu/CFX2nyhY1CthfiBSiAywCxA/2nCAcy7T0vbblag1JvvLqqGgko6aztuq3dO0fpasl0vh2aAsnHKgNpuJSvBqYxT9c0PCFVGXWIYD3COz4B5wQwiKSXywuT1o5xyKs5cg/paZw3N8cUprxMpa204ERP7sJNgUFGJMLx0gWw4Em40Qg1qRhD8X7du6MkxY6xKNBIELwDPf9+QiCDhHW6HeNGfTOyyIP9o41OKxKXk93ArX5P+u/VROQN4KWqKzh/Jymn2eQh4Rn3t+zHfCbkGkA7h9wXKXSCDb8J51TGO9kcbSHXX8J2LPgVYQCrD0eclSnVp1LYhiet04MELDGjGdfUPEEoCEsUi/mmisEYuEMy/yrvI0pplXzja6fcd+g7H1+ijRGPLMaed8glAqyJrBg15ofKomL/INrk53mfb6oGNi57WDK7BvdoTbaD3biR10dl+izd3WrqSl4azCcHFWL2TK51TIV61L7SmXYcjxpza81y7uk88dZ85ajs4qm+cLE</div>
    <script>
      const doDecrypt = async () => {
        const password = document.getElementById("password").value;
        const cipher = document.getElementById("encryptedContent").innerHTML;
        try {
          window.pw = password;
          window.cipherx = cipher;
          const plain = await decrypt(cipher, password);
          document.body.innerHTML = plain;
        } catch(err) {
          console.log(err);
          alert("nope");
        }
      };
      document.getElementById("decrypt").addEventListener("click", doDecrypt);
      document.getElementById("password").addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          doDecrypt();
        }
      });
    </script>
  </body>
</html>
